<% if @comment.errors.any? %>
$('.error_messages').html(' <%= escape_javascript(render partial: "shared/error_messages", locals: {object: @comment}) %>');
<% else %>
$('.error_messages').html('');
$('#comments-list').append('<%= escape_javascript(render partial: "comments/item", locals: {comment: @comment}) unless @comment.errors.any? %>');
$('#comment_author').val('');
$('#comment_content').val('');
<% end %>